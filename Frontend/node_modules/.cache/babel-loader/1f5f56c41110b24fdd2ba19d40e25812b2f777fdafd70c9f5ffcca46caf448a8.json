{"ast":null,"code":"import axios from 'axios';\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  computed: {\n    ...mapState(['products', 'users', 'adminData'])\n  },\n  mounted() {\n    this.fetchProducts();\n    this.fetchUsers();\n  },\n  methods: {\n    ...mapActions(['fetchProducts', 'fetchUsers']),\n    async deleteProduct(prodID) {\n      console.log(prodID);\n      if (confirm('Are you sure you want to delete?')) {\n        try {\n          const response = await axios.delete(`https://capstoneconnection.onrender.com/product/${prodID}`);\n          alert(response.data.msg);\n          this.getProducts();\n        } catch (error) {\n          if (error.response && error.response.status === 404) {\n            alert(error.response.data.msg);\n          } else {\n            console.error(error);\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","mapState","mapActions","computed","mounted","fetchProducts","fetchUsers","methods","deleteProduct","prodID","console","log","confirm","response","delete","alert","data","msg","getProducts","error","status"],"sources":["C:\\Users\\Student\\Documents\\Capstone_workshop\\CapstoneEOMP\\Frontend\\src\\views\\AdminView.vue"],"sourcesContent":["<template>\r\n<div>\r\n        \r\n            <h1 style=\"text-decoration:underline\">Products</h1>\r\n       \r\n      <div class=\"sortBtns\">\r\n        <RouterLink to=\"/addProduct\" class=\"btn btn-primary\">Add Product</RouterLink>\r\n\r\n       \r\n      </div>\r\n    \r\n     \r\n\r\n\r\n\r\n      <div class=\"admin_container \">\r\n         <table class=\"table table-bordered \">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>Product Name</th>\r\n                  <th>Category ID</th>\r\n                  <th>Price</th>\r\n                  <th class=\"img-fluid\">Image</th>\r\n                  <th>Edit/Delete</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"tdSize\" v-for=\"item in products\" :key=\"item.prodID\">\r\n                  <td>{{ item.prodID }}</td>\r\n                  <td>{{ item.prodName }}</td>\r\n                  <td>{{ item.categoryID }}</td>\r\n                  <td>{{ item.price }}</td>\r\n                  <td><img class=\"adminImg\" :src=\"item.prodUrl\" alt=\"\" /></td>\r\n                  <td>\r\n                    <div class=\"btnGroupUser\"> \r\n                      <router-link :to=\"'/editProduct/' + item.prodID\" class=\"btn btn-primary\">Edit</router-link>\r\n                      <button class=\"btn btn-danger\" @click=\"deleteProduct(item.prodID)\">Delete</button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n    \r\n        <div>\r\n        </div>\r\n  \r\n        <!-- USER TABLE -->\r\n       \r\n            <h1 style=\"text-decoration:underline\">Users</h1>\r\n        \r\n            <RouterLink to=\"/register\" class=\"btn btn-primary\">Add User</RouterLink>\r\n         \r\n<div class=\"adminUser_container\">\r\n    <table class=\"table-bordered\">\r\n             <thead>\r\n                <tr>\r\n                  <th>#ID</th>\r\n                  <th>FirstName</th>\r\n                  <th>LastName</th>\r\n                  <th>Gender</th>\r\n                  <th>Email</th>\r\n                  <th>Encrypt Password</th>\r\n                  <th>Role</th>\r\n                  <th>Image</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in users\" :key=\"item.userID\">\r\n                  <td>{{ item.userID }}</td>\r\n                  <td>{{ item.firstName }}</td>\r\n                  <td>{{ item.lastName }}</td>\r\n                  <td>{{ item.gender }}</td>\r\n                  <td>{{ item.emailAdd }}</td>\r\n                  <td>{{ item.userPass }}</td>\r\n                  <td>Admin</td>\r\n                  <td><img class=\"tableImg\" :src=\"item.profileUrl\" alt=\"\" /></td>\r\n                  <td>\r\n                    <div class=\"btnGroupUser\">\r\n                      <div>\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-primary\"\r\n                          data-bs-toggle=\"modal\"\r\n                          data-bs-target=\"#editUserModal\"\r\n                        >\r\n                          EDIT\r\n                        </button>\r\n                      </div>\r\n                      <button class=\"btn btn-danger\">Delete</button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n</div>\r\n\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n \r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  import { mapState, mapActions } from 'vuex';\r\n  \r\n  \r\n  export default {\r\n    computed: {\r\n      ...mapState(['products', 'users', 'adminData']), \r\n  \r\n     \r\n    },\r\n  \r\n    mounted() {\r\n      this.fetchProducts();\r\n      this.fetchUsers();\r\n    },\r\n    methods: {\r\n  ...mapActions(['fetchProducts', 'fetchUsers']),\r\n\r\n  async deleteProduct(prodID) {\r\n    console.log(prodID);\r\n    if (confirm('Are you sure you want to delete?')) {\r\n      try {\r\n        const response = await axios.delete(`https://capstoneconnection.onrender.com/product/${prodID}`);\r\n        alert(response.data.msg);\r\n        this.getProducts();\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 404) {\r\n          alert(error.response.data.msg);\r\n        } else {\r\n          console.error(error);\r\n        }\r\n      }\r\n    }\r\n  },\r\n},\r\n  }\r\n  </script>\r\n  \r\n  \r\n  <style>\r\n\r\n.sortBtns{\r\nmargin: 3rem;\r\n}\r\n\r\n\r\n.tableImg{\r\n    width: 15%;\r\n}\r\n\r\n.adminImg{\r\n    width: 10%;\r\n    \r\n}\r\n.user_container{\r\n    width: 1000rem;\r\n}\r\n\r\n</style>"],"mappings":"AA8GE,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,QAAQ,EAAEC,UAAS,QAAS,MAAM;AAG3C,eAAe;EACbC,QAAQ,EAAE;IACR,GAAGF,QAAQ,CAAC,CAAC,UAAU,EAAE,OAAO,EAAE,WAAW,CAAC;EAGhD,CAAC;EAEDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC,CAAC;IACpB,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACX,GAAGL,UAAU,CAAC,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;IAE9C,MAAMM,aAAaA,CAACC,MAAM,EAAE;MAC1BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAIG,OAAO,CAAC,kCAAkC,CAAC,EAAE;QAC/C,IAAI;UACF,MAAMC,QAAO,GAAI,MAAMb,KAAK,CAACc,MAAM,CAAE,mDAAkDL,MAAO,EAAC,CAAC;UAChGM,KAAK,CAACF,QAAQ,CAACG,IAAI,CAACC,GAAG,CAAC;UACxB,IAAI,CAACC,WAAW,CAAC,CAAC;QACpB,EAAE,OAAOC,KAAK,EAAE;UACd,IAAIA,KAAK,CAACN,QAAO,IAAKM,KAAK,CAACN,QAAQ,CAACO,MAAK,KAAM,GAAG,EAAE;YACnDL,KAAK,CAACI,KAAK,CAACN,QAAQ,CAACG,IAAI,CAACC,GAAG,CAAC;UAChC,OAAO;YACLP,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC;UACtB;QACF;MACF;IACF;EACF;AACE"},"metadata":{},"sourceType":"module","externalDependencies":[]}