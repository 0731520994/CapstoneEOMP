{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      emailAdd: \"\",\n      userPass: \"\"\n    };\n  },\n  beforeCreate() {\n    this.$store.dispatch(\"cookieCheck\");\n  },\n  methods: {\n    async userLogin() {\n      console.log(\"Reached\");\n      try {\n        const payload = {\n          emailAdd: this.emailAdd,\n          userPass: this.userPass\n        };\n        const resp = await this.$store.dispatch(\"login\", payload);\n        console.log(\"Login Response:\", resp);\n        if (resp.success && resp.token) {\n          await Swal.fire({\n            icon: \"success\",\n            title: \"Logged in Successfully\",\n            text: \"You are now logged in!\"\n          });\n          this.$router.push(\"/\");\n        } else {\n          const errMsg = resp.error || \"Unexpected error\";\n          await Swal.fire({\n            icon: \"error\",\n            title: \"Login failed\",\n            text: errMsg\n          });\n        }\n      } catch (e) {\n        console.error(\"Error logging in: \", e);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","emailAdd","userPass","beforeCreate","$store","dispatch","methods","userLogin","console","log","payload","resp","success","token","Swal","fire","icon","title","text","$router","push","errMsg","error","e"],"sources":["C:\\Users\\Student\\Documents\\Capstone_workshop\\CapstoneEOMP\\Frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"container d-flex p-4\">\r\n    <div class=\"col-6\">\r\n      <img\r\n        src=\"\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n    <div class=\"col-6\">\r\n      \r\n      <h1>WELCOME BACK !</h1>\r\n\r\n      <form @submit.prevent=\"userLogin\">\r\n        <label for=\"email\" class=\"text-start\">ENTER YOUR EMAIL</label>\r\n        <br />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          v-model=\"emailAdd\"\r\n          placeholder=\"Enter your email\"\r\n        />\r\n        <br />\r\n        <label for=\"password\" class=\"text-start\">PASSWORD</label>\r\n        <br />\r\n        <input type=\"password\" v-model=\"userPass\" name=\"password\" />\r\n\r\n        <button type=\"submit\">Log In</button>\r\n        <p>\r\n          Don't have an account?\r\n          <router-link\r\n            to=\"/register\"\r\n            class=\"register-link text-decoration-none text-white\"\r\n            >Register</router-link\r\n          >\r\n        </p>\r\n      </form>\r\n    </div>\r\n    <br />\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      emailAdd: \"\",\r\n      userPass: \"\",\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    this.$store.dispatch(\"cookieCheck\");\r\n  },\r\n  methods: {\r\n    async userLogin() {\r\n      console.log(\"Reached\");\r\n      try {\r\n        const payload = {\r\n          emailAdd: this.emailAdd,\r\n          userPass: this.userPass,\r\n        };\r\n        const resp = await this.$store.dispatch(\"login\", payload);\r\n        console.log(\"Login Response:\", resp);\r\n        if (resp.success && resp.token) {\r\n          await Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Logged in Successfully\",\r\n            text: \"You are now logged in!\",\r\n          });\r\n          this.$router.push(\"/\");\r\n        } else {\r\n          const errMsg = resp.error || \"Unexpected error\";\r\n          await Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Login failed\",\r\n            text: errMsg,\r\n          });\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Error logging in: \", e);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":";AA6CA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,YAAYA,CAAA,EAAG;IACb,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,aAAa,CAAC;EACrC,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtB,IAAI;QACF,MAAMC,OAAM,GAAI;UACdT,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC;QACD,MAAMS,IAAG,GAAI,MAAM,IAAI,CAACP,MAAM,CAACC,QAAQ,CAAC,OAAO,EAAEK,OAAO,CAAC;QACzDF,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEE,IAAI,CAAC;QACpC,IAAIA,IAAI,CAACC,OAAM,IAAKD,IAAI,CAACE,KAAK,EAAE;UAC9B,MAAMC,IAAI,CAACC,IAAI,CAAC;YACdC,IAAI,EAAE,SAAS;YACfC,KAAK,EAAE,wBAAwB;YAC/BC,IAAI,EAAE;UACR,CAAC,CAAC;UACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACxB,OAAO;UACL,MAAMC,MAAK,GAAIV,IAAI,CAACW,KAAI,IAAK,kBAAkB;UAC/C,MAAMR,IAAI,CAACC,IAAI,CAAC;YACdC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAE,cAAc;YACrBC,IAAI,EAAEG;UACR,CAAC,CAAC;QACJ;MACF,EAAE,OAAOE,CAAC,EAAE;QACVf,OAAO,CAACc,KAAK,CAAC,oBAAoB,EAAEC,CAAC,CAAC;MACxC;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}