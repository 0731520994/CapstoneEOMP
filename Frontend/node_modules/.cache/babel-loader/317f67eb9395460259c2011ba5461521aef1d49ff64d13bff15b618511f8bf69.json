{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nconst {\n  data\n} = await axios.get(`${challengeURL}users`);\nconst eURL = \"https://capstoneeomp-zsz7.onrender.com\";\nexport default createStore({\n  state: {\n    users: null,\n    user: null,\n    products: null,\n    product: null,\n    orders: null,\n    order: null,\n    categories: null,\n    category: null,\n    spinner: false,\n    token: null,\n    msg: null,\n    state: {\n      product: {\n        prodUrl: ''\n      }\n    }\n  },\n  getters: {},\n  mutations: {},\n  actions: {\n    async fetchUsers(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${cUrl}users`);\n        context.commit('setUsers', data.results);\n      } catch (e) {\n        context.commit('setMsg', 'error occ');\n      }\n    },\n    async updateUser(context, updatedUser) {\n      try {\n        const response = await axios.patch(`${cUrl}users/${updatedUser.userID}`, updatedUser);\n        return response.data;\n      } catch (error) {\n        throw error;\n      }\n    },\n    async getUsers(context) {\n      try {\n        context.commit('setSpinner', true);\n        const response = await axios.get(`${cUrl}users`);\n        context.commit('setUsers', response.data.results);\n        context.commit('setSpinner', false);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async fetchProducts(context) {\n      try {\n        context.commit('setSpinner', true);\n        const response = await axios.get(`${cUrl}products`);\n        context.commit('setProducts', response.data.results);\n        context.commit('setSpinner', false);\n      } catch (err) {\n        console.log(err);\n        context.commit('setMsg', 'error occured');\n      }\n    },\n    async fetchProduct(context, id) {\n      try {\n        const response = await axios.get(`${cUrl}product/${id}`);\n        const {\n          results,\n          err\n        } = response.data;\n        if (results) {\n          context.commit('setProduct', results[0]);\n        } else {\n          context.commit('setMsg', err);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async addProduct(context, payload) {\n      try {\n        const response = await axios.post(`${cUrl}products`, payload);\n        const {\n          msg,\n          err\n        } = response.data;\n        if (msg) {\n          context.commit('setMsg', msg);\n        } else if (err) {\n          console.log(err);\n          context.commit('setMsg', err);\n        }\n        await context.dispatch('fetchProducts');\n      } catch (error) {\n        console.error(error);\n        context.commit('setMsg', 'Error adding product');\n        throw error;\n      }\n    },\n    async fetchCategories(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${cUrl}categories`);\n        context.commit('setCategories', data.results);\n      } catch (error) {\n        context.commit('setMsg', 'Error fetching categories');\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","data","get","challengeURL","eURL","state","users","user","products","product","orders","order","categories","category","spinner","token","msg","prodUrl","getters","mutations","actions","fetchUsers","context","cUrl","commit","results","e","updateUser","updatedUser","response","patch","userID","error","getUsers","err","console","log","fetchProducts","fetchProduct","id","addProduct","payload","post","dispatch","fetchCategories","modules"],"sources":["C:/Users/Student/Documents/Capstone_workshop/CapstoneEOMP/Frontend/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\r\nimport axios from 'axios';\r\n\r\nconst { data } = await axios.get(`${challengeURL}users`);\r\n\r\nconst eURL = \"https://capstoneeomp-zsz7.onrender.com\"\r\n\r\nexport default createStore({\r\n  state: {\r\n    users: null,\r\n    user: null,\r\n    products: null,\r\n    product: null,\r\n    orders: null,\r\n    order: null,\r\n    categories: null,\r\n    category: null,\r\n    spinner: false,\r\n    token: null,\r\n    msg: null,\r\n    state: {\r\n      product: {\r\n        prodUrl: '',\r\n      },\r\n    },\r\n  },\r\n  getters: {\r\n\r\n  },\r\n  mutations: {\r\n \r\n  },\r\n  actions: {\r\n    async fetchUsers(context) {\r\n      try {\r\n        const { data } = await axios.get(`${cUrl}users`);\r\n        context.commit('setUsers', data.results);\r\n      } catch (e) {\r\n        context.commit('setMsg', 'error occ');\r\n      }\r\n    },\r\n\r\n    async updateUser(context, updatedUser) {\r\n      try {\r\n        const response = await axios.patch(\r\n          `${cUrl}users/${updatedUser.userID}`,\r\n          updatedUser\r\n        );\r\n        return response.data;\r\n      } catch (error) {\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    async getUsers(context) {\r\n      try {\r\n        context.commit('setSpinner', true);\r\n        const response = await axios.get(`${cUrl}users`);\r\n        context.commit('setUsers', response.data.results);\r\n        context.commit('setSpinner', false);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n\r\n    async fetchProducts(context) {\r\n      try {\r\n        context.commit('setSpinner', true);\r\n        const response = await axios.get(`${cUrl}products`);\r\n        context.commit('setProducts', response.data.results);\r\n        context.commit('setSpinner', false);\r\n      } catch (err) {\r\n        console.log(err);\r\n        context.commit('setMsg', 'error occured');\r\n      }\r\n    },\r\n\r\n    async fetchProduct(context, id) {\r\n      try {\r\n        const response = await axios.get(`${cUrl}product/${id}`);\r\n        const { results, err } = response.data;\r\n        if (results) {\r\n          context.commit('setProduct', results[0]);\r\n        } else {\r\n          context.commit('setMsg', err);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n\r\n    async addProduct(context, payload) {\r\n      try {\r\n        const response = await axios.post(`${cUrl}products`, payload);\r\n        const { msg, err } = response.data;\r\n\r\n        if (msg) {\r\n          context.commit('setMsg', msg);\r\n        } else if (err) {\r\n          console.log(err);\r\n          context.commit('setMsg', err);\r\n        }\r\n\r\n        await context.dispatch('fetchProducts');\r\n      } catch (error) {\r\n        console.error(error);\r\n        context.commit('setMsg', 'Error adding product');\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    async fetchCategories(context) {\r\n      try {\r\n        const { data } = await axios.get(`${cUrl}categories`);\r\n        context.commit('setCategories', data.results);\r\n      } catch (error) {\r\n        context.commit('setMsg', 'Error fetching categories');\r\n      }\r\n    },\r\n\r\n\r\n\r\n  },\r\n\r\n  modules: {\r\n  \r\n  },\r\n});\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}