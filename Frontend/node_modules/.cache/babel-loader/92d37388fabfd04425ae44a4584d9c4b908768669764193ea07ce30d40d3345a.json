{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'addProduct',\n  data() {\n    return {\n      err: '',\n      data: {\n        product: {\n          prodID: \"\",\n          prodName: '',\n          category: '',\n          price: '',\n          prodUrl: ''\n        }\n      }\n    };\n  },\n  methods: {\n    addProduct() {\n      var $mythis = this;\n      axios.post(\"https://capstoneconnection.onrender.com/AddNewProduct\", this.data.product).then(res => {\n        console.log(res.data);\n        alert(res.data.msg);\n        this.data.product = {\n          prodID: \"\",\n          prodName: '',\n          category: '',\n          price: '',\n          prodUrl: ''\n        };\n        this.err;\n      }).catch(function (err) {\n        if (err.response) {\n          if (err.response.status == 422) {\n            this.err = err.response.data.error;\n          }\n        }\n      });\n\n      //   if (!this.prodName || !this.category || !this.price || !this.prodUrl) {\n      //     this.err = [\"Please fill in all fields\"];\n      //     return; \n      //   }\n\n      //   try {\n      //     const payload = {\n      //       prodID: this.prodID,\n      //       prodName: this.prodName,\n      //       categoryID: this.category,\n      //       price: this.price,\n      //       prodUrl: this.prodUrl,\n      //     };\n\n      //     const response = await \n\n      //     if (response.data) {\n\n      //     this.products.push({\n\n      //       prodID: this.prodID = \"\",\n      //       prodName: this.prodName = \"\",\n      //       category: this.category = \"\",\n      //       price: this.price = \"\",\n      //       prodUrl: this.prodUrl = \"\",\n\n      //     });\n\n      //       this.prodID = \"\";\n      //       this.prodName = \"\";\n      //       this.category = \"\";\n      //       this.price = \"\";\n      //       this.prodUrl = \"\";\n      //       this.err = [];\n\n      //       this.$router.push(\"/admin\");\n      //       alert(\"Product added successfully\");\n      //     } else {\n\n      //       this.err = [\"An error occurred\"];\n      //     }\n      //   } catch (err) {\n\n      //     this.err = [err.response?.data?.msg || \"An error occurred\"];\n      //     console.error(err);\n      //   }\n      // },\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","err","product","prodID","prodName","category","price","prodUrl","methods","addProduct","$mythis","post","then","res","console","log","alert","msg","catch","response","status","error"],"sources":["C:\\Users\\Student\\Documents\\Capstone_workshop\\CapstoneEOMP\\Frontend\\src\\views\\AddProductView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container flex-container\">\r\n      <ul class=\"alert alert-warning\" v-if=\"this.err && this.err.length > 0\">\r\n        <li class=\"mb-0 ms-3\" v-for=\"(error, index) in this.err\" :key=\"index\">\r\n          {{ error }}\r\n        </li>\r\n      </ul >\r\n\r\n      <label for=\"\">ID</label>\r\n      <input type=\"number\" placeholder=\"Enter productID\" v-model=\" data.product.prodID\" />\r\n\r\n      <label for=\"\">Name</label>\r\n      <input type=\"text\" placeholder=\"Enter product name\" v-model=\"data.product.prodName\" />\r\n\r\n      <labe for=\"\">Category</labe>\r\n      <select v-model=\"data.product.category\">\r\n  <option value=\"Accessories\">Accessories</option>\r\n  <option value=\"Beauty\">Beauty</option>\r\n  <option value=\"Perfumes\">Perfumes</option>\r\n</select>\r\n\r\n      <label for=\"\">Price</label>\r\n      <input type=\"number\" placeholder=\"Enter the price\" v-model=\"data.product.price\" />\r\n\r\n      <label for=\"\">Image</label>\r\n      <input type=\"text\" placeholder=\"Enter the product link\" v-model=\"data.product.prodUrl\" />\r\n\r\n      <button @click=\"addProduct\" class=\"btn-submit\">Submit</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'addProduct',\r\n  data() {\r\n      return {\r\n        err : '',\r\n         data: {\r\n           product: {\r\n             prodID: \"\",\r\n             prodName: '',\r\n             category: '',\r\n             price: '',\r\n             prodUrl: '',\r\n           }\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    addProduct() {\r\n\r\n      var $mythis =this;\r\n\r\n      axios.post(\"https://capstoneconnection.onrender.com/AddNewProduct\", this.data.product)\r\n       .then(res => {\r\n        console.log(res.data)\r\n        alert(res.data.msg);\r\n\r\n      this.data.product = {\r\n             prodID: \"\",\r\n             prodName: '',\r\n             category: '',\r\n             price: '',\r\n             prodUrl: '',\r\n\r\n      }\r\n      this.err\r\n       })\r\n.catch(function(err) {\r\n\r\n  if(err.response) {\r\n\r\n    if (err.response.status ==422){\r\n      this.err = err.response.data.error;\r\n    }\r\n  }\r\n\r\n})\r\n\r\n\r\n\r\n\r\n     \r\n    //   if (!this.prodName || !this.category || !this.price || !this.prodUrl) {\r\n    //     this.err = [\"Please fill in all fields\"];\r\n    //     return; \r\n    //   }\r\n\r\n    //   try {\r\n    //     const payload = {\r\n    //       prodID: this.prodID,\r\n    //       prodName: this.prodName,\r\n    //       categoryID: this.category,\r\n    //       price: this.price,\r\n    //       prodUrl: this.prodUrl,\r\n    //     };\r\n\r\n    //     const response = await \r\n\r\n\r\n    //     if (response.data) {\r\n\r\n    //     this.products.push({\r\n\r\n    //       prodID: this.prodID = \"\",\r\n    //       prodName: this.prodName = \"\",\r\n    //       category: this.category = \"\",\r\n    //       price: this.price = \"\",\r\n    //       prodUrl: this.prodUrl = \"\",\r\n         \r\n    //     });\r\n\r\n    //       this.prodID = \"\";\r\n    //       this.prodName = \"\";\r\n    //       this.category = \"\";\r\n    //       this.price = \"\";\r\n    //       this.prodUrl = \"\";\r\n    //       this.err = [];\r\n\r\n    //       this.$router.push(\"/admin\");\r\n    //       alert(\"Product added successfully\");\r\n    //     } else {\r\n         \r\n    //       this.err = [\"An error occurred\"];\r\n    //     }\r\n    //   } catch (err) {\r\n        \r\n    //     this.err = [err.response?.data?.msg || \"An error occurred\"];\r\n    //     console.error(err);\r\n    //   }\r\n    // },\r\n    }\r\n    }\r\n};\r\n</script>\r\n"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACLC,GAAE,EAAI,EAAE;MACPD,IAAI,EAAE;QACJE,OAAO,EAAE;UACPC,MAAM,EAAE,EAAE;UACVC,QAAQ,EAAE,EAAE;UACZC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTC,OAAO,EAAE;QACX;MACL;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MAEX,IAAIC,OAAM,GAAG,IAAI;MAEjBZ,KAAK,CAACa,IAAI,CAAC,uDAAuD,EAAE,IAAI,CAACX,IAAI,CAACE,OAAO,EACnFU,IAAI,CAACC,GAAE,IAAK;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACb,IAAI;QACpBgB,KAAK,CAACH,GAAG,CAACb,IAAI,CAACiB,GAAG,CAAC;QAErB,IAAI,CAACjB,IAAI,CAACE,OAAM,GAAI;UACbC,MAAM,EAAE,EAAE;UACVC,QAAQ,EAAE,EAAE;UACZC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTC,OAAO,EAAE;QAEhB;QACA,IAAI,CAACN,GAAE;MACN,CAAC,EACPiB,KAAK,CAAC,UAASjB,GAAG,EAAE;QAEnB,IAAGA,GAAG,CAACkB,QAAQ,EAAE;UAEf,IAAIlB,GAAG,CAACkB,QAAQ,CAACC,MAAK,IAAI,GAAG,EAAC;YAC5B,IAAI,CAACnB,GAAE,GAAIA,GAAG,CAACkB,QAAQ,CAACnB,IAAI,CAACqB,KAAK;UACpC;QACF;MAEF,CAAC;;MAMG;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAGA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;;MAEA;MACA;MACA;;MAEA;MACA;MACA;MACA;IACA;EACA;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}