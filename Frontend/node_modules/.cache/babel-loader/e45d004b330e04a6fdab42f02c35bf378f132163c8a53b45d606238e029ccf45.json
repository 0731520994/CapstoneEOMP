{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'editProduct',\n  data() {\n    return {\n      err: [],\n      product: {\n        prodID: \"\",\n        category: \"\",\n        price: \"\",\n        prodUrl: \"\",\n        prodName: \"\"\n      }\n    };\n  },\n  created() {\n    this.$store.dispatch('fetchProduct', this.$route.params.id);\n  },\n  mounted() {\n    this.getProductData();\n  },\n  methods: {\n    getProductData() {\n      const productId = this.$route.params.id; // Get the product ID from the route parameter\n      axios.get(`https://capstoneconnection.onrender.com/product/${productId}`).then(res => {\n        console.log(res.data.product);\n        this.product = res.data.product;\n      }).catch(err => {\n        this.err = [err.response?.data?.msg || \"An error occurred\"];\n        console.error(err);\n      });\n    },\n    async updateProduct() {\n      try {\n        const productId = this.$route.params.id; // Get the product ID from the route parameter\n        const response = await axios.put(`https://capstoneconnection.onrender.com/product/${productId}`, this.product);\n        console.log(response.data.msg);\n        this.err = [];\n      } catch (err) {\n        this.err = [err.response?.data?.msg || \"An error occurred\"];\n        console.error(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","err","product","prodID","category","price","prodUrl","prodName","created","$store","dispatch","$route","params","id","mounted","getProductData","methods","productId","get","then","res","console","log","catch","response","msg","error","updateProduct","put"],"sources":["C:\\Users\\Student\\Documents\\Capstone_workshop\\CapstoneEOMP\\Frontend\\src\\views\\EditProductView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container flex-container\">\r\n      <ul class=\"alert alert-warning\" v-if=\"this.err && this.err.length > 0\">\r\n        <li class=\"mb-0 ms-3\" v-for=\"(error, index) in this.err\" :key=\"index\">\r\n          {{ error }}\r\n        </li>\r\n      </ul>\r\n\r\n      <input type=\"number\" placeholder=\"Enter productID\" v-model=\"product.prodID\" />\r\n      <input type=\"text\" placeholder=\"Enter product name\" v-model=\"product.prodName\" />\r\n      <input type=\"number\" placeholder=\"Enter the price\" v-model=\"product.price\" />\r\n      <input type=\"text\" placeholder=\"Bea(1), Per(2), acce(3)\" v-model=\"product.category\" />\r\n      <input type=\"text\" placeholder=\"Enter the product link\" v-model=\"product.prodUrl\" />\r\n\r\n      <button @click=\"updateProduct\" class=\"btn-submit\">Submit</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: 'editProduct',\r\n  data() {\r\n    return {\r\n      err: [], \r\n      product: {\r\n        prodID: \"\",\r\n        category: \"\",\r\n        price: \"\",\r\n        prodUrl: \"\",\r\n        prodName: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  created(){\r\n       this.$store.dispatch('fetchProduct',\r\n        this.$route.params.id)\r\n    },\r\n  mounted() {\r\n   \r\n\r\n    this.getProductData();\r\n  },\r\n\r\n  methods: {\r\n    getProductData() {\r\n  const productId = this.$route.params.id; // Get the product ID from the route parameter\r\n  axios.get(`https://capstoneconnection.onrender.com/product/${productId}`)\r\n    .then(res => {\r\n      console.log(res.data.product);\r\n      this.product = res.data.product;\r\n    })\r\n    .catch(err => {\r\n      this.err = [err.response?.data?.msg || \"An error occurred\"];\r\n      console.error(err);\r\n    });\r\n},\r\n\r\nasync updateProduct() {\r\n  try {\r\n    const productId = this.$route.params.id; // Get the product ID from the route parameter\r\n    const response = await axios.put(`https://capstoneconnection.onrender.com/product/${productId}`, this.product);\r\n    console.log(response.data.msg);\r\n    this.err = [];\r\n  } catch (err) {\r\n    this.err = [err.response?.data?.msg || \"An error occurred\"];\r\n    console.error(err);\r\n  }\r\n},\r\n\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAqBA,OAAOA,KAAI,MAAO,OAAO;AAGzB,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,OAAO,EAAE;QACPC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EAEDC,OAAOA,CAAA,EAAE;IACJ,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,cAAc,EAClC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;EACzB,CAAC;EACHC,OAAOA,CAAA,EAAG;IAGR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EAEDC,OAAO,EAAE;IACPD,cAAcA,CAAA,EAAG;MACnB,MAAME,SAAQ,GAAI,IAAI,CAACN,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE;MACzCf,KAAK,CAACoB,GAAG,CAAE,mDAAkDD,SAAU,EAAC,EACrEE,IAAI,CAACC,GAAE,IAAK;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACpB,IAAI,CAACE,OAAO,CAAC;QAC7B,IAAI,CAACA,OAAM,GAAIkB,GAAG,CAACpB,IAAI,CAACE,OAAO;MACjC,CAAC,EACAqB,KAAK,CAACtB,GAAE,IAAK;QACZ,IAAI,CAACA,GAAE,GAAI,CAACA,GAAG,CAACuB,QAAQ,EAAExB,IAAI,EAAEyB,GAAE,IAAK,mBAAmB,CAAC;QAC3DJ,OAAO,CAACK,KAAK,CAACzB,GAAG,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IAED,MAAM0B,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMV,SAAQ,GAAI,IAAI,CAACN,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE;QACzC,MAAMW,QAAO,GAAI,MAAM1B,KAAK,CAAC8B,GAAG,CAAE,mDAAkDX,SAAU,EAAC,EAAE,IAAI,CAACf,OAAO,CAAC;QAC9GmB,OAAO,CAACC,GAAG,CAACE,QAAQ,CAACxB,IAAI,CAACyB,GAAG,CAAC;QAC9B,IAAI,CAACxB,GAAE,GAAI,EAAE;MACf,EAAE,OAAOA,GAAG,EAAE;QACZ,IAAI,CAACA,GAAE,GAAI,CAACA,GAAG,CAACuB,QAAQ,EAAExB,IAAI,EAAEyB,GAAE,IAAK,mBAAmB,CAAC;QAC3DJ,OAAO,CAACK,KAAK,CAACzB,GAAG,CAAC;MACpB;IACF;EAEE;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}